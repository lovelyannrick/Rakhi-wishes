script type="text/javascript">
	atOptions = {
		'key' : '8e47ea3ff0492cf86bccaa999bdd8f6c',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/8e47ea3ff0492cf86bccaa999bdd8f6c/invoke.js"></script>
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>रक्षा बंधन की हार्दिक शुभकामनाएँ</title>
    <style>
        /* --- सम्पूर्ण स्टाइलिंग (CSS) --- */
        @import url('https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Hindi:wght@400;700&display=swap');

        :root {
            --primary-color: #c71585; /* गहरा गुलाबी */
            --secondary-color: #ffc0cb; /* हल्का गुलाबी */
            --background-start: #fff0f5; /* लैवेंडर ब्लश */
            --background-end: #fff5ee; /* सीशेल */
            --text-color: #4a233a;
            --gold-color: #b8860b; /* गहरा सुनहरा */
        }

        body {
            font-family: 'Tiro Devanagari Hindi', serif;
            background: linear-gradient(135deg, var(--background-start), var(--background-end));
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; /* कंफ़ेटी के लिए */
        }

        .container {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(199, 21, 133, 0.2);
            text-align: center;
            max-width: 480px;
            width: 100%;
            border: 1px solid var(--secondary-color);
            position: relative;
            z-index: 1;
        }

        .animated-heading {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
            position: relative;
            animation: text-pop-in 1s ease-out;
        }

        .sender-name {
            color: var(--gold-color);
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            display: block; /* नाम को अगली लाइन में लाने के लिए */
            margin-top: 10px;
        }

        .rakhi-gif {
            max-width: 200px;
            border-radius: 50%;
            margin-bottom: 20px;
            border: 5px solid white;
            box-shadow: 0 0 15px var(--secondary-color);
        }

        p {
            font-size: 1.2em;
            color: var(--text-color);
            margin-top: 0;
        }

        .input-group {
            margin-top: 25px;
        }

        .name-input {
            width: 80%;
            padding: 12px;
            font-size: 1.1em;
            font-family: 'Tiro Devanagari Hindi', serif;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .name-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(199, 21, 133, 0.3);
            outline: none;
        }

        .generate-button {
            background: linear-gradient(45deg, var(--primary-color), #ff69b4);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-family: 'Tiro Devanagari Hindi', serif;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .generate-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(199, 21, 133, 0.4);
        }

        #link-container {
            margin-top: 25px;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .generated-link {
            width: 90%;
            padding: 12px;
            font-size: 1em;
            border: 2px dashed var(--primary-color);
            background-color: var(--background-start);
            color: var(--primary-color);
            border-radius: 8px;
            font-weight: bold;
            -webkit-user-select: all;
            user-select: all;
        }
        
        /* --- एनीमेशन की-फ्रेम्स --- */
        @keyframes text-pop-in {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* कंफ़ेटी के लिए कैनवास */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>
    
    <div class="container">
        <h1 id="greeting-message" class="animated-heading">स्नेह का यह बंधन सजाएँ</h1>

        <img src="rakhi.gif" alt="एनिमेटेड राखी" class="rakhi-gif">

        <p id="instruction-text">नीचे अपना नाम लिखें और इस प्यार भरे त्यौहार की शुभकामनाएँ भेजें।</p>

        <div class="input-group">
            <input type="text" id="nameInput" class="name-input" placeholder="यहाँ अपना पूरा नाम लिखें...">
            <button id="generateButton" class="generate-button">लिंक बनाएं और भेजें</button>
        </div>

        <div id="link-container">
            <p>इस लिंक को कॉपी करें और शेयर करें:</p>
            <input type="text" id="generatedLink" class="generated-link" readonly>
        </div>
    </div>

    <script>
    // एक हल्की JS-Confetti लाइब्रेरी का कोड
    const JSConfetti = (function(){"use strict";function t(t){return t.reduce(((t,e)=>t+e),0)}function e(t,e){return t*Math.random()+e}function i(t,e){return Math.floor(Math.random()*(e-t+1))+t}function s(t,e){return Math.random()*(e-t)+t}function n(t,e,i){return Math.max(t,Math.min(e,i))}const o=2*Math.PI;class a{constructor(t){this.confetti=t.confetti,this.position=t.position,this.velocity=t.velocity,this.rotation=s(0,o),this.rotationSpeed=s(-150,150),this.radius={x:s(4,6),y:s(5,9)},this.shape=t.shape,this.tick=0,this.opacity=100}draw(t){const e=this.radius.x,i=this.radius.y;t.translate(this.position.x,this.position.y),t.rotate(this.rotation),this.shape.draw(t,e,i),t.rotate(-this.rotation),t.translate(-this.position.x,-this.position.y)}}class r{constructor(t){this.canvas=t.canvas,this.canvasContext=this.canvas.getContext("2d"),this.shapes=["square","circle"],this.lastUpdated=Date.now(),this.confetti=[new a({confetti:this,position:{x:this.canvas.width/2,y:this.canvas.height},velocity:{x:0,y:0},shape:this.getShape()})],this.loop=this.loop.bind(this),this.loop()}getShape(){const t=this.shapes[i(0,this.shapes.length-1)];return"circle"===t?{draw:(t,e,i)=>{t.beginPath(),t.ellipse(0,0,e,i,0,0,o),t.fill(),t.closePath()}}:{draw:(t,e,i)=>{t.fillRect(-e,-i,2*e,2*i)}}}addConfetti(t){const e=200*Math.cos(s(.25*Math.PI,.75*Math.PI)),n=200*Math.sin(s(.25*Math.PI,.75*Math.PI));this.confetti.push(new a({confetti:this,position:{x:this.canvas.width/2,y:this.canvas.height},velocity:{x:e,y:n},shape:this.getShape()}))}removeConfetti(){this.confetti.length>50&&this.confetti.shift()}loop(){const e=Date.now(),i=(e-this.lastUpdated)/1e3;this.lastUpdated=e,this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.confetti.forEach((t=>{this.canvasContext.fillStyle=`rgba(255, 192, 203, ${t.opacity}%)`,this.canvasContext.strokeStyle=`rgba(215, 21, 133, ${t.opacity}%)`,t.update(i),t.draw(this.canvasContext)})),this.confetti=this.confetti.filter((t=>t.position.y<this.canvas.height)),requestAnimationFrame(this.loop)}}class h{constructor(t){this.canvas=t.canvas,this.canvasContext=this.canvas.getContext("2d"),this.shapes=["square","circle"],this.lastUpdated=Date.now(),this.confetti=[],this.emojis=t.emojis||[],this.emojiSize=t.emojiSize||80,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}addConfetti(t={}){const s=(t.confettiNumber||50)/2;for(let n=0;n<s;n++){const s=e(t.confettiRadius||50,10),o=e(0,Math.PI);this.confetti.push(new a({confetti:this,position:{x:this.canvas.width/2,y:this.canvas.height},velocity:{x:s*Math.cos(o),y:s*Math.sin(o)},shape:this.getShape()}))}if(this.emojis.length){const e=t.confettiNumber||50,i=e/this.emojis.length;for(let s=0;s<e;s++){const e=this.emojis[s%this.emojis.length],n=t.confettiRadius||50,a=Math.random()*(this.canvas.width-2*this.emojiSize)+this.emojiSize,r=this.canvas.height+this.emojiSize,h=(this.canvas.width-a)/100,c=Math.random()*n-n;this.confetti.push(new a({confetti:this,position:{x:a,y:r},velocity:{x:c,y:h}}))}}}getShape(){const t=this.shapes[i(0,this.shapes.length-1)];return"circle"===t?{draw:(t,e,i)=>{t.beginPath(),t.ellipse(0,0,e,i,0,0,o),t.fill(),t.closePath()}}:{draw:(t,e,i)=>{t.fillRect(-e,-i,2*e,2*i)}}}loop(){const e=Date.now(),i=(e-this.lastUpdated)/1e3;this.lastUpdated=e;const s=this.canvas.width,n=this.canvas.height;this.canvasContext.clearRect(0,0,s,n),this.confetti.forEach((t=>{this.canvasContext.fillStyle=`rgba(255, 192, 203, ${t.opacity}%)`,this.canvasContext.strokeStyle=`rgba(215, 21, 133, ${t.opacity}%)`,t.update(i),t.draw(this.canvasContext)})),this.confetti=this.confetti.filter((t=>t.position.y<n&&t.position.x>-t.radius.x&&t.position.x<s+t.radius.x))}}function c(e,s,n){const o=t(e),a=e.map((t=>t/o*s));let r=0;return n.map(((t,s)=>{const n=e[s-1]||0,o=t.width*n/t.height;return r+=o,o})),n.map(((t,s)=>{const o=e[s]/r*100;return{...t,width:o}}))}return class{constructor(t={}){this.canvas=t.canvas||function(){const t=document.createElement("canvas");return t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.top=0,t.style.left=0,t.style.zIndex=1e3,t.style.pointerEvents="none",document.body.appendChild(t),t}(),this.canvasContext=this.canvas.getContext("2d"),this.activeConfetti=[];const e=()=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight};e(),window.addEventListener("resize",e),this.shapes=t.shapes||["square","circle"],this.lastUpdated=Date.now(),this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}addConfetti(t={}){const e=t.confettiNumber||50,i=t.confettiColors||["#FFC0CB","#FF69B4","#FF1493","#DB7093","#C71585"],s=t.emojis||[],r=t.emojiSize||80;for(let n=0;n<e;n++){const e=i[n%i.length],h=s[n%s.length],c=Math.random()*(this.canvas.width),l=Math.random()*this.canvas.height-this.canvas.height,d=Math.random()*300+250,u=Math.random()*10+50;this.activeConfetti.push(new a({confetti:this,position:{x:c,y:l},velocity:{x:0,y:d},rotationSpeed:u,shape:h?{draw:(t,e,i)=>{t.font=`${r}px serif`,t.fillText(h,0,0)}}:this.getShape(),color:e}))}}getShape(){const t=this.shapes[i(0,this.shapes.length-1)];return"circle"===t?{draw:(t,e,i)=>{t.beginPath(),t.ellipse(0,0,e,i,0,0,o),t.fill(),t.closePath()}}:{draw:(t,e,i)=>{t.fillRect(-e,-i,2*e,2*i)}}}loop(){const t=Date.now(),e=(t-this.lastUpdated)/1e3;this.lastUpdated=t;const i=this.canvas.width,s=this.canvas.height;this.canvasContext.clearRect(0,0,i,s),this.activeConfetti.forEach((t=>{t.velocity.y+=250*e,t.position.x+=t.velocity.x*e,t.position.y+=t.velocity.y*e,t.rotation+=t.rotationSpeed*e/17,t.opacity-=1*e,t.opacity=n(0,100,t.opacity),this.canvasContext.fillStyle=t.color,this.canvasContext.save(),this.canvasContext.translate(t.position.x,t.position.y),this.canvasContext.rotate(t.rotation*Math.PI/180),t.shape.draw(this.canvasContext,t.radius.x,t.radius.y),this.canvasContext.restore()})),this.activeConfetti=this.activeConfetti.filter((t=>t.opacity>0&&t.position.y<=s))}}})();

    // --- हमारी मुख्य स्क्रिप्ट ---
    window.addEventListener('DOMContentLoaded', () => {
        const confettiCanvas = document.getElementById('confetti-canvas');
        const jsConfetti = new JSConfetti({ canvas: confettiCanvas });

        const urlParams = new URLSearchParams(window.location.search);
        const senderName = urlParams.get('from');

        const greetingMessage = document.getElementById('greeting-message');
        const instructionText = document.getElementById('instruction-text');
        
        if (senderName) {
            const decodedName = decodeURIComponent(senderName);
            greetingMessage.innerHTML = `रक्षा बंधन की शुभकामनाएं!<span class="sender-name">- ${decodedName}</span>`;
            instructionText.textContent = "आप भी नीचे अपना नाम लिखकर अपनी शुभकामनाएँ भेज सकते हैं।";

            setTimeout(() => {
                jsConfetti.addConfetti({
                    confettiColors: ['#c71585', '#ff69b4', '#ffc0cb', '#b8860b', '#fff'],
                    confettiRadius: 6,
                    confettiNumber: 400,
                });
            }, 300);

        } else {
            greetingMessage.textContent = "स्नेह का यह बंधन सजाएँ";
        }

        const generateButton = document.getElementById('generateButton');
        const nameInput = document.getElementById('nameInput');
        const linkContainer = document.getElementById('link-container');
        const generatedLinkInput = document.getElementById('generatedLink');

        generateButton.addEventListener('click', () => {
            const name = nameInput.value.trim();
            if (name === "") {
                alert("कृपया अपना नाम अवश्य लिखें!");
                return;
            }

            const baseUrl = window.location.origin + window.location.pathname;
            const encodedName = encodeURIComponent(name);
            const newLink = `${baseUrl}?from=${encodedName}`;

            generatedLinkInput.value = newLink;
            linkContainer.style.display = 'block';

            generatedLinkInput.focus();
            generatedLinkInput.select();
        });
    });
    </script>

</body>
</html>
script type="text/javascript">
	atOptions = {
		'key' : '8e47ea3ff0492cf86bccaa999bdd8f6c',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/8e47ea3ff0492cf86bccaa999bdd8f6c/invoke.js"></script>script type="text/javascript">
	atOptions = {
		'key' : '8e47ea3ff0492cf86bccaa999bdd8f6c',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/8e47ea3ff0492cf86bccaa999bdd8f6c/invoke.js"></script>
<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>रक्षा बंधन की हार्दिक शुभकामनाएँ</title>
    <style>
        /* --- सम्पूर्ण स्टाइलिंग (CSS) --- */
        @import url('https://fonts.googleapis.com/css2?family=Tiro+Devanagari+Hindi:wght@400;700&display=swap');

        :root {
            --primary-color: #c71585; /* गहरा गुलाबी */
            --secondary-color: #ffc0cb; /* हल्का गुलाबी */
            --background-start: #fff0f5; /* लैवेंडर ब्लश */
            --background-end: #fff5ee; /* सीशेल */
            --text-color: #4a233a;
            --gold-color: #b8860b; /* गहरा सुनहरा */
        }

        body {
            font-family: 'Tiro Devanagari Hindi', serif;
            background: linear-gradient(135deg, var(--background-start), var(--background-end));
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden; /* कंफ़ेटी के लिए */
        }

        .container {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(5px);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(199, 21, 133, 0.2);
            text-align: center;
            max-width: 480px;
            width: 100%;
            border: 1px solid var(--secondary-color);
            position: relative;
            z-index: 1;
        }

        .animated-heading {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
            position: relative;
            animation: text-pop-in 1s ease-out;
        }

        .sender-name {
            color: var(--gold-color);
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            display: block; /* नाम को अगली लाइन में लाने के लिए */
            margin-top: 10px;
        }

        .rakhi-gif {
            max-width: 200px;
            border-radius: 50%;
            margin-bottom: 20px;
            border: 5px solid white;
            box-shadow: 0 0 15px var(--secondary-color);
        }

        p {
            font-size: 1.2em;
            color: var(--text-color);
            margin-top: 0;
        }

        .input-group {
            margin-top: 25px;
        }

        .name-input {
            width: 80%;
            padding: 12px;
            font-size: 1.1em;
            font-family: 'Tiro Devanagari Hindi', serif;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .name-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px rgba(199, 21, 133, 0.3);
            outline: none;
        }

        .generate-button {
            background: linear-gradient(45deg, var(--primary-color), #ff69b4);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1.2em;
            font-family: 'Tiro Devanagari Hindi', serif;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .generate-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(199, 21, 133, 0.4);
        }

        #link-container {
            margin-top: 25px;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .generated-link {
            width: 90%;
            padding: 12px;
            font-size: 1em;
            border: 2px dashed var(--primary-color);
            background-color: var(--background-start);
            color: var(--primary-color);
            border-radius: 8px;
            font-weight: bold;
            -webkit-user-select: all;
            user-select: all;
        }
        
        /* --- एनीमेशन की-फ्रेम्स --- */
        @keyframes text-pop-in {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* कंफ़ेटी के लिए कैनवास */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>
    
    <div class="container">
        <h1 id="greeting-message" class="animated-heading">स्नेह का यह बंधन सजाएँ</h1>

        <img src="rakhi.gif" alt="एनिमेटेड राखी" class="rakhi-gif">

        <p id="instruction-text">नीचे अपना नाम लिखें और इस प्यार भरे त्यौहार की शुभकामनाएँ भेजें।</p>

        <div class="input-group">
            <input type="text" id="nameInput" class="name-input" placeholder="यहाँ अपना पूरा नाम लिखें...">
            <button id="generateButton" class="generate-button">लिंक बनाएं और भेजें</button>
        </div>

        <div id="link-container">
            <p>इस लिंक को कॉपी करें और शेयर करें:</p>
            <input type="text" id="generatedLink" class="generated-link" readonly>
        </div>
    </div>

    <script>
    // एक हल्की JS-Confetti लाइब्रेरी का कोड
    const JSConfetti = (function(){"use strict";function t(t){return t.reduce(((t,e)=>t+e),0)}function e(t,e){return t*Math.random()+e}function i(t,e){return Math.floor(Math.random()*(e-t+1))+t}function s(t,e){return Math.random()*(e-t)+t}function n(t,e,i){return Math.max(t,Math.min(e,i))}const o=2*Math.PI;class a{constructor(t){this.confetti=t.confetti,this.position=t.position,this.velocity=t.velocity,this.rotation=s(0,o),this.rotationSpeed=s(-150,150),this.radius={x:s(4,6),y:s(5,9)},this.shape=t.shape,this.tick=0,this.opacity=100}draw(t){const e=this.radius.x,i=this.radius.y;t.translate(this.position.x,this.position.y),t.rotate(this.rotation),this.shape.draw(t,e,i),t.rotate(-this.rotation),t.translate(-this.position.x,-this.position.y)}}class r{constructor(t){this.canvas=t.canvas,this.canvasContext=this.canvas.getContext("2d"),this.shapes=["square","circle"],this.lastUpdated=Date.now(),this.confetti=[new a({confetti:this,position:{x:this.canvas.width/2,y:this.canvas.height},velocity:{x:0,y:0},shape:this.getShape()})],this.loop=this.loop.bind(this),this.loop()}getShape(){const t=this.shapes[i(0,this.shapes.length-1)];return"circle"===t?{draw:(t,e,i)=>{t.beginPath(),t.ellipse(0,0,e,i,0,0,o),t.fill(),t.closePath()}}:{draw:(t,e,i)=>{t.fillRect(-e,-i,2*e,2*i)}}}addConfetti(t){const e=200*Math.cos(s(.25*Math.PI,.75*Math.PI)),n=200*Math.sin(s(.25*Math.PI,.75*Math.PI));this.confetti.push(new a({confetti:this,position:{x:this.canvas.width/2,y:this.canvas.height},velocity:{x:e,y:n},shape:this.getShape()}))}removeConfetti(){this.confetti.length>50&&this.confetti.shift()}loop(){const e=Date.now(),i=(e-this.lastUpdated)/1e3;this.lastUpdated=e,this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.confetti.forEach((t=>{this.canvasContext.fillStyle=`rgba(255, 192, 203, ${t.opacity}%)`,this.canvasContext.strokeStyle=`rgba(215, 21, 133, ${t.opacity}%)`,t.update(i),t.draw(this.canvasContext)})),this.confetti=this.confetti.filter((t=>t.position.y<this.canvas.height)),requestAnimationFrame(this.loop)}}class h{constructor(t){this.canvas=t.canvas,this.canvasContext=this.canvas.getContext("2d"),this.shapes=["square","circle"],this.lastUpdated=Date.now(),this.confetti=[],this.emojis=t.emojis||[],this.emojiSize=t.emojiSize||80,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}addConfetti(t={}){const s=(t.confettiNumber||50)/2;for(let n=0;n<s;n++){const s=e(t.confettiRadius||50,10),o=e(0,Math.PI);this.confetti.push(new a({confetti:this,position:{x:this.canvas.width/2,y:this.canvas.height},velocity:{x:s*Math.cos(o),y:s*Math.sin(o)},shape:this.getShape()}))}if(this.emojis.length){const e=t.confettiNumber||50,i=e/this.emojis.length;for(let s=0;s<e;s++){const e=this.emojis[s%this.emojis.length],n=t.confettiRadius||50,a=Math.random()*(this.canvas.width-2*this.emojiSize)+this.emojiSize,r=this.canvas.height+this.emojiSize,h=(this.canvas.width-a)/100,c=Math.random()*n-n;this.confetti.push(new a({confetti:this,position:{x:a,y:r},velocity:{x:c,y:h}}))}}}getShape(){const t=this.shapes[i(0,this.shapes.length-1)];return"circle"===t?{draw:(t,e,i)=>{t.beginPath(),t.ellipse(0,0,e,i,0,0,o),t.fill(),t.closePath()}}:{draw:(t,e,i)=>{t.fillRect(-e,-i,2*e,2*i)}}}loop(){const e=Date.now(),i=(e-this.lastUpdated)/1e3;this.lastUpdated=e;const s=this.canvas.width,n=this.canvas.height;this.canvasContext.clearRect(0,0,s,n),this.confetti.forEach((t=>{this.canvasContext.fillStyle=`rgba(255, 192, 203, ${t.opacity}%)`,this.canvasContext.strokeStyle=`rgba(215, 21, 133, ${t.opacity}%)`,t.update(i),t.draw(this.canvasContext)})),this.confetti=this.confetti.filter((t=>t.position.y<n&&t.position.x>-t.radius.x&&t.position.x<s+t.radius.x))}}function c(e,s,n){const o=t(e),a=e.map((t=>t/o*s));let r=0;return n.map(((t,s)=>{const n=e[s-1]||0,o=t.width*n/t.height;return r+=o,o})),n.map(((t,s)=>{const o=e[s]/r*100;return{...t,width:o}}))}return class{constructor(t={}){this.canvas=t.canvas||function(){const t=document.createElement("canvas");return t.style.position="fixed",t.style.width="100vw",t.style.height="100vh",t.style.top=0,t.style.left=0,t.style.zIndex=1e3,t.style.pointerEvents="none",document.body.appendChild(t),t}(),this.canvasContext=this.canvas.getContext("2d"),this.activeConfetti=[];const e=()=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight};e(),window.addEventListener("resize",e),this.shapes=t.shapes||["square","circle"],this.lastUpdated=Date.now(),this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}addConfetti(t={}){const e=t.confettiNumber||50,i=t.confettiColors||["#FFC0CB","#FF69B4","#FF1493","#DB7093","#C71585"],s=t.emojis||[],r=t.emojiSize||80;for(let n=0;n<e;n++){const e=i[n%i.length],h=s[n%s.length],c=Math.random()*(this.canvas.width),l=Math.random()*this.canvas.height-this.canvas.height,d=Math.random()*300+250,u=Math.random()*10+50;this.activeConfetti.push(new a({confetti:this,position:{x:c,y:l},velocity:{x:0,y:d},rotationSpeed:u,shape:h?{draw:(t,e,i)=>{t.font=`${r}px serif`,t.fillText(h,0,0)}}:this.getShape(),color:e}))}}getShape(){const t=this.shapes[i(0,this.shapes.length-1)];return"circle"===t?{draw:(t,e,i)=>{t.beginPath(),t.ellipse(0,0,e,i,0,0,o),t.fill(),t.closePath()}}:{draw:(t,e,i)=>{t.fillRect(-e,-i,2*e,2*i)}}}loop(){const t=Date.now(),e=(t-this.lastUpdated)/1e3;this.lastUpdated=t;const i=this.canvas.width,s=this.canvas.height;this.canvasContext.clearRect(0,0,i,s),this.activeConfetti.forEach((t=>{t.velocity.y+=250*e,t.position.x+=t.velocity.x*e,t.position.y+=t.velocity.y*e,t.rotation+=t.rotationSpeed*e/17,t.opacity-=1*e,t.opacity=n(0,100,t.opacity),this.canvasContext.fillStyle=t.color,this.canvasContext.save(),this.canvasContext.translate(t.position.x,t.position.y),this.canvasContext.rotate(t.rotation*Math.PI/180),t.shape.draw(this.canvasContext,t.radius.x,t.radius.y),this.canvasContext.restore()})),this.activeConfetti=this.activeConfetti.filter((t=>t.opacity>0&&t.position.y<=s))}}})();

    // --- हमारी मुख्य स्क्रिप्ट ---
    window.addEventListener('DOMContentLoaded', () => {
        const confettiCanvas = document.getElementById('confetti-canvas');
        const jsConfetti = new JSConfetti({ canvas: confettiCanvas });

        const urlParams = new URLSearchParams(window.location.search);
        const senderName = urlParams.get('from');

        const greetingMessage = document.getElementById('greeting-message');
        const instructionText = document.getElementById('instruction-text');
        
        if (senderName) {
            const decodedName = decodeURIComponent(senderName);
            greetingMessage.innerHTML = `रक्षा बंधन की शुभकामनाएं!<span class="sender-name">- ${decodedName}</span>`;
            instructionText.textContent = "आप भी नीचे अपना नाम लिखकर अपनी शुभकामनाएँ भेज सकते हैं।";

            setTimeout(() => {
                jsConfetti.addConfetti({
                    confettiColors: ['#c71585', '#ff69b4', '#ffc0cb', '#b8860b', '#fff'],
                    confettiRadius: 6,
                    confettiNumber: 400,
                });
            }, 300);

        } else {
            greetingMessage.textContent = "स्नेह का यह बंधन सजाएँ";
        }

        const generateButton = document.getElementById('generateButton');
        const nameInput = document.getElementById('nameInput');
        const linkContainer = document.getElementById('link-container');
        const generatedLinkInput = document.getElementById('generatedLink');

        generateButton.addEventListener('click', () => {
            const name = nameInput.value.trim();
            if (name === "") {
                alert("कृपया अपना नाम अवश्य लिखें!");
                return;
            }

            const baseUrl = window.location.origin + window.location.pathname;
            const encodedName = encodeURIComponent(name);
            const newLink = `${baseUrl}?from=${encodedName}`;

            generatedLinkInput.value = newLink;
            linkContainer.style.display = 'block';

            generatedLinkInput.focus();
            generatedLinkInput.select();
        });
    });
    </script>

</body>
</html>
script type="text/javascript">
	atOptions = {
		'key' : '8e47ea3ff0492cf86bccaa999bdd8f6c',
		'format' : 'iframe',
		'height' : 60,
		'width' : 468,
		'params' : {}
	};
</script>
<script type="text/javascript" src="//www.highperformanceformat.com/8e47ea3ff0492cf86bccaa999bdd8f6c/invoke.js"></script>